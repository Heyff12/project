<!DOCTYPE html>
<html>

<head>
    <title>canvas</title>
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <meta content="email=no" name="format-detection">
    <style type="text/css">
    #canvasMap {
        width: 100%;
        height: 600px;
    }
    img{
    	width: 100%; height: auto;
    }
    </style>
</head>

<body>
    <div id="canvasMap">
        <canvas id="drawing" width="350" height="600"></canvas>
    </div>
    <img src="/javascript/src/img/hopebg2.jpeg"/>
    <script type="text/javascript">
    var drawing = document.getElementById('drawing');
    if (drawing.getContext) {
        //添加图片--toDataURL
        // var imgURI = drawing.toDataURL('/javascript/src/img/hopebg2.jpeg');
        // var image = document.createElement('img');
        // image.src = imgURI;
        // document.body.appendChild(image);


        var context = drawing.getContext('2d');
        context.strokeStyle = 'purple';
        //设置阴影
        context.shadowOffsetX=5;
        context.shadowOffsetY=5;
        context.shadowBlur=4;
        context.shadowColor='rgba(0,0,0,0.5)';
        //绘制红色矩形
        context.fillStyle = '#ff0000';
        context.fillRect(10, 10, 100, 50);
        //绘制半透明蓝色矩形
        context.fillStyle = 'rgba(0,0,255,0.5)';
        context.fillRect(30, 30, 100, 50);
        //在两个矩形重叠的地方清除一个小矩形
        context.clearRect(40, 40, 30, 30);

        //绘制红色miao边矩形        
        context.strokeStyle = "#ff0000";
        context.strokeRect(60, 160, 50, 50);
        //绘制半透明蓝色描边矩形   
        context.strokeStyle = "rgba(0,0,255,0.5)";
        context.strokeRect(90, 190, 50, 50);

        //开始路径
        context.beginPath();
        //绘制外园
        context.arc(100, 350, 99, 0, 2 * Math.PI, false);
        //绘制内园
        context.moveTo(194, 350); //避免多余线条
        context.arc(100, 350, 94, 0, 2 * Math.PI, false);
        //绘制分针
        context.moveTo(100, 350);
        context.lineTo(100, 280);
        //绘制时针
        context.moveTo(100, 350);
        context.lineTo(35, 350);
        //描边路径
        context.stroke();

        //绘制文本
        context.font = 'bold 14px Arial';
        context.textAlign = 'center';
        context.textBaseline = 'middle';
        context.fillText('12', 100, 270);


        var fontSize = 100;
        context.font = fontSize + 'px Arial';
        while (context.measureText('Hello world').width > 140) {
            fontSize--;
            context.font = fontSize + 'px Arial';
        }
        context.fillText('hello world', 200, 100);
        context.fillText('font size is' + fontSize + 'px', 200, 200);

        //绘制图像--失败
        var image = document.images[0];
        console.log(image);
        context.drawImage(image, 10, 220,100,150);



        //渐变
        var gradient=context.createLinearGradient(30,200,70,300);
        gradient.addColorStop(0,'white');
        gradient.addColorStop(1,'black');
        //绘制渐变矩形
        context.fillStyle=gradient;
        context.fillRect(30,200,50,50);


    }
    </script>
</body>

</html>