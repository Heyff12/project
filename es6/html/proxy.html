<!DOCTYPE html>
<html>

<head>
    <title>es6新性能</title>
    <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <meta content="email=no" name="format-detection">
    <script>
    window.PointerEvent = void 0
    </script>
    <script type="text/javascript" src="../static/js/plug/flexible.debug.js"></script>
    <link rel="stylesheet" href="../static/css/home.css">
</head>

<body class="bg_body">
    <div id="wap">
        <header>
            <h2>es6新性能-Proxy</h2>
            <a class="title_a a_left back"></a>
        </header>
        <section class="bind descripe">
            <dl>
                <dt class="green">1、概述</dt>
                <dd>Proxy 用于修改某些操作的默认行为，等同于在语言层面做出修改，所以属于一种“元编程”（meta programming），即对编程语言进行编程。</dd>
                <dd>Proxy 可以理解成，在目标对象之前架设一层“拦截”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。</dd>
                <dd>new Proxy()表示生成一个Proxy实例，target参数表示所要拦截的目标对象，handler参数也是一个对象，用来定制拦截行为。</dd>
                <dd>如果handler没有设置任何拦截，那就等同于直接通向原对象。</dd>
                <dt class="green">2、Proxy 实例的方法 </dt>
                <dd>get方法用于拦截某个属性的读取操作。</dd>
                <dd>set方法用来拦截某个属性的赋值操作。</dd>
                <dd>apply方法拦截函数的调用、call和apply操作。方法可以接受三个参数，分别是目标对象、目标对象的上下文对象（this）和目标对象的参数数组。</dd>
                <dd>has方法用来拦截HasProperty操作，即判断对象是否具有某个属性时，这个方法会生效。典型的操作就是in运算符。</dd>
                <dd>construct方法用于拦截new命令，construct方法可以接受两个参数。target: 目标对象;args：构建函数的参数对象</dd>
                <dd>deleteProperty方法用于拦截delete操作，如果这个方法抛出错误或者返回false，当前属性就无法被delete命令删除。</dd>
                <dd>defineProperty方法拦截了Object.defineProperty操作。</dd>
                <dd>getOwnPropertyDescriptor方法拦截Object.getOwnPropertyDescriptor()，返回一个属性描述对象或者undefined。</dd>
                <dd>getPrototypeOf方法主要用来拦截获取对象原型</dd>
                <dd>isExtensible方法拦截Object.isExtensible操作。</dd>
                <dd>ownKeys方法用来拦截对象自身属性的读取操作。Object.getOwnPropertyNames();Object.getOwnPropertySymbols();Object.keys()</dd>
                <dd>preventExtensions方法拦截Object.preventExtensions()。该方法必须返回一个布尔值，否则会被自动转为布尔值。</dd>
                <dd>setPrototypeOf方法主要用来拦截Object.setPrototypeOf方法。</dd>
                <dt class="green">3、Proxy.revocable()</dt>
                <dd>Proxy.revocable方法返回一个可取消的 Proxy 实例。</dd>
                <dd>Proxy.revocable的一个使用场景是，目标对象不允许直接访问，必须通过代理访问，一旦访问结束，就收回代理权，不允许再次访问。</dd>
                <dt class="green">4、this 问题</dt>
                <dd>目标对象内部的this关键字会指向 Proxy 代理。</dd>
                <dd>有些原生对象的内部属性，只有通过正确的this才能拿到，所以 Proxy 也无法代理这些原生对象的属性。</dd>
                <dt class="green">5、实例：Web 服务的客户端</dt>
                <dd>Proxy 对象可以拦截目标对象的任意属性，这使得它很合适用来写 Web 服务的客户端。</dd>
            </dl>
        </section>
    </div>
    <script src="../static/js/home/proxy.js " type="text/javascript "defer async="true "></script>
</body>

</html>
